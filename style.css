body {
  user-select: none;
  background: #f5f5f7;
  padding: 2rem;
  margin: auto;
  transition: background-color 0.5s ease, color 0.5s ease;
}

/* LEFT TOOL PANEL */
.tool-panel {
  background: white;
  border-radius: 12px;
}

/* RIGHT VIEWER PANEL */
.viewer-panel {
  background: white;
  border-radius: 12px;
}

/* Better range styling */
input[type="range"] {
  cursor: pointer;
}

#previewImg {
  max-width: 100%;
  max-height: 600px;
  object-fit: contain;
}

#canvas {
  max-width: 100%;
  max-height: 600px;
  object-fit: contain;
}

/* Image + Canvas viewer uniform sizing */
.preview-area,
.stencil-area {
  max-height: 420px;
  width: 100%;
  object-fit: contain;
}

/* Improve spacing on mobile */
@media (max-width: 768px) {
  .tool-panel,
  .viewer-panel {
    padding: 1.2rem;
  }
}

/* Buttons smoother */
.btn {
  border-radius: 8px;
}

/* Collapse arrow rotation */
.collapse-icon {
  transition: transform 0.25s ease;
  display: inline-block;
}

/* When collapse is closed rotate arrow up */
.card-header[aria-expanded="false"] .collapse-icon,
.card-header.collapsed .collapse-icon {
  transform: rotate(-90deg);
}

/* Minor spacing tweaks */
.tool-panel .btn-lg {
  border-radius: 8px;
}

.card + .card {
  margin-top: 12px;
}

/* Dark mode */
body.dark-mode {
  background-color: #121212;
  color: #f0f0f0;
}

body.dark-mode .tool-panel,
body.dark-mode .viewer-panel {
  background-color: #2c2c3c;
  color: #f0f0f0;
}

body.dark-mode .card-header {
  background-color: #2c2c3c;
  color: #f0f0f0;
}

body.dark-mode .form-control,
body.dark-mode .form-range,
body.dark-mode .form-check-label {
  /*background-color: #3c3c4c;*/
  color: #f0f0f0;
  border-color: #555;
}

body.dark-mode .btn {
  border-color: #555;
}

body.dark-mode .btn-primary {
  background-color: #4b6cf7;
  border-color: #4b6cf7;
}

body.dark-mode .btn-outline-secondary {
  color: #f0f0f0;
  border-color: #555;
}

body.dark-mode .toast {
  background-color: #2c2c3c;
  color: #f0f0f0;
}

* === Volume Sliders === */

/* Light Mode */
.volume-slider {
  appearance: none;
  height: 6px;
  background: linear-gradient(
    to right,
    #fce97b,
    #ffd700
  ); /* warm yellow gradient */
  border-radius: 4px;
  outline: none;
  transition: background 0.3s ease;
}

.volume-slider::-webkit-slider-thumb {
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #ffcc00;
  border: 2px solid #fff;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.volume-slider::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #ffcc00;
  border: 2px solid #fff;
  cursor: pointer;
}

body.dark-mode .volume-slider::-webkit-slider-thumb {
  background: #ff6347; /* tomato red */
  border: 2px solid #333;
}

body.dark-mode .volume-slider::-moz-range-thumb {
  background: #ff6347;
  border: 2px solid #333;
}

.volume-slider:focus-visible {
  outline: none;
  box-shadow: 0 0 5px 2px rgba(255, 215, 0, 0.6);
}

body.dark-mode .volume-slider:focus-visible {
  box-shadow: 0 0 5px 2px rgba(255, 100, 100, 0.6);
}

body.dark-mode .card {
  background-color: #1e1e1e;
  border-color: #444;
  transition: background-color 0.5s ease;
}

body.dark-mode .form-label {
  color: #f1f1f1;
}

body.dark-mode .card-header {
  background-color: #2a2a2a;
  color: #e0e0e0;
}

body.dark-mode .form-control,
body.dark-mode .form-range {
  color: #ffffff;
  border: 1px solid #555;
  transition: background-color 0.5s ease, color 0.5s ease;
}

body.dark-mode .btn {
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* =====================================
   Subtle Hover Effects (Theme-Aware)
   Light Mode: Soft Gray
   Dark Mode: Gentle Yellow
   ===================================== */

/* === CARD === */
.card:hover {
  transition: box-shadow 0.3s ease;
  box-shadow: 0 0 10px rgba(128, 128, 128, 0.15); /* soft gray */
}

body.dark-mode .card:hover {
  box-shadow: 0 0 12px rgba(255, 255, 150, 0.15); /* soft yellow glow */
}

/* === CARD HEADER === */
.card-header:hover {
  background-color: rgba(200, 200, 200, 0.1); /* light gray highlight */
  box-shadow: inset 0 0 6px rgba(128, 128, 128, 0.15);
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

body.dark-mode .card-header:hover {
  background-color: rgba(255, 255, 100, 0.05); /* subtle yellow tint */
  box-shadow: inset 0 0 8px rgba(255, 255, 150, 0.1);
}

/* === INPUTS === */
input[type="number"]:hover,
input[type="file"]:hover,
input[type="range"]:hover {
  box-shadow: 0 0 6px rgba(128, 128, 128, 0.2); /* light gray glow */
  border-color: #6c757d;
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
}

body.dark-mode input[type="number"]:hover,
body.dark-mode input[type="file"]:hover,
body.dark-mode input[type="range"]:hover {
  box-shadow: 0 0 6px rgba(255, 255, 150, 0.25);
  border-color: #ffeb3b44;
}

/* === BUTTONS === */
button:hover {
  transition: box-shadow 0.3s ease;
}
/*
body.dark-mode button:hover {
  box-shadow: 0 2px 10px rgba(255, 255, 150, 0.2);
}*/

/* === TOGGLE LABEL === */
.form-check-label:hover {
  color: #6c757d;
  text-shadow: 0 0 2px rgba(128, 128, 128, 0.2);
}

body.dark-mode .form-check-label:hover {
  color: #fff176;
  text-shadow: 0 0 4px rgba(255, 255, 150, 0.3);
}

body.dark-mode .text-muted {
  color: #e0e0e0 !important;
}

.title-icon {
  height: 1em;     /* match the font size of the title */
  width: auto;     /* keep correct aspect ratio */
  vertical-align: middle;
}

body.dark-mode .title-icon {
  -webkit-filter:invert(100%);
     filter:progid:DXImageTransform.Microsoft.BasicImage(invert='1');
}

.title-icon:hover {
  text-shadow: 0 0 4px rgba(255, 255, 150, 0.6);
  box-shadow: 0 0 6px rgba(255, 255, 150, 0.55);
  border-color: #ffeb3b44;
}

body.dark-mode .title-icon:hover {
  text-shadow: 0 0 4px rgba(255, 255, 150, 0.6);
  box-shadow: 0 0 6px rgba(255, 255, 150, 0.55);
  border-color: #ffeb3b44;
}


